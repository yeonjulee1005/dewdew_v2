<template>
  <NuxtLayout>
    <div class="main-intro flex flex-justify-center">
      <div ref="mainTitle" class="main-title">
        FRONT END DEVELOPER
      </div>
      <div ref="mainText" class="main-text">
        <p>
          ë…¸ë ¥í•˜ëŠ” ì‚¬ëŒì€ ì¦ê¸°ëŠ” ì‚¬ëŒì„ ì´ê¸¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        </p>
        <p>
          ê°œë°œê³¼ ì·¨ë¯¸ë¥¼ ì¦ê¸°ë©° ì‚´ì•„ê°€ê³  ìˆëŠ” FE ê°œë°œì ì´ì—°ì£¼ì…ë‹ˆë‹¤.
        </p>
        <div ref="subText" class="sub-text">
          ë³¸ í˜ì´ì§€ëŠ”' + ' \'' + 'Nuxt 3' + ' & ' + 'TypeScript' + '\'' + 'ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
        </div>
      </div>
      <div ref="scrollDown" class="scroll-down">
        ğŸ‘‡ğŸ»Scroll Down
      </div>
      <el-image class="main-image" :src="bannersImage" fit="cover" />
    </div>
  </NuxtLayout>
</template>
<script setup lang="ts">

const coreData = ref()
const coreImages = ref()

const imageData = ref<any[]>([])
const bannersImage = ref('')

const getCoreData = await useFetch('/api/query?col=core')
const getImageData = await useFetch('/api/query?col=images')

coreData.value = getCoreData.data.value
coreImages.value = getImageData.data.value

onMounted(() => {
  initData()
})

const initData = () => {
  coreImages.value.forEach((image:any) => {
    switch (image.id) {
      case 'assets' :
        bannersImage.value = image.data.banners.main.url
        break
      default :
        imageData.value.push(image)
        break
    }
  })
}
</script>
